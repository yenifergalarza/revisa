var THEMEREX_isotope_resize_delta=0.3;var THEMEREX_ADMIN_MODE=false;var THEMEREX_error_msg_box=null;var THEMEREX_VIEWMORE_BUSY=false;var THEMEREX_video_resize_inited=false;var THEMEREX_top_height=0;var THEMEREX_timeline_top=-1;var THEMEREX_use_fixed_wrapper=true;var THEMEREX_theme_init_counter=0;jQuery(document).ready(function(){themerex_init_actions()});function themerex_init_actions(){if(THEMEREX_vc_edit_mode&&jQuery(".vc_empty-placeholder").length==0&&THEMEREX_theme_init_counter++<30){setTimeout(themerex_init_actions,200);return}ready();jQuery(window).resize(function(){timelineResponsive();fullSlider();resizeSliders();itemPageFull();mainMenuResponsive();scrollAction();resizeVideoBackground();REX_parallax()});jQuery(window).scroll(function(){timelineScrollFix();scrollAction();REX_parallax()});jQuery(window).trigger("resize");jQuery(window).trigger("scroll");if(jQuery(".sliderHomeBullets.staticSlider.slider_engine_revo").height()==0){jQuery(".sliderHomeBullets.staticSlider.slider_engine_revo").removeAttr("style")}}function ready(){if(THEMEREX_systemMessage.message){if(THEMEREX_systemMessage.status=="success"){themerex_message_success(THEMEREX_systemMessage.message,THEMEREX_systemMessage.header)}else{if(THEMEREX_systemMessage.status=="info"){themerex_message_info(THEMEREX_systemMessage.message,THEMEREX_systemMessage.header)}else{if(THEMEREX_systemMessage.status=="error"||THEMEREX_systemMessage.status=="warning"){themerex_message_warning(THEMEREX_systemMessage.message,THEMEREX_systemMessage.header)}}}}THEMEREX_top_height=jQuery("header .topWrap").height();jQuery(".topWrapFixed").css("backgroundColor",jQuery(".topWrap").css("backgroundColor"));THEMEREX_use_fixed_wrapper=jQuery(".topWrapFixed").parents(".fullScreenSlider").length==0||!jQuery(".topWrapFixed").parent().next().hasClass("sliderHomeBullets");jQuery(document).click(function(n){jQuery(".pageFocusBlock").slideUp();jQuery(".inputSubmitAnimation:not(.opened)").removeClass("sFocus rad4").addClass("radCircle",100);jQuery("ul.shareDrop").slideUp().siblings("a.shareDrop").removeClass("selected")});jQuery(".widget_calendar").on("click",".prevMonth a, .nextMonth a",function(q){var p=jQuery(this).parents(".wp-calendar");var n=jQuery(this).data("month");var r=jQuery(this).data("year");var o=jQuery(this).data("type");jQuery.post(THEMEREX_ajax_url,{action:"calendar_change_month",nonce:THEMEREX_ajax_nonce,month:n,year:r,post_type:o}).done(function(e){var s=JSON.parse(e);if(s.error===""){p.parent().fadeOut(200,function(){jQuery(this).empty().append(s.data).fadeIn(200)})}});q.preventDefault();return false});if(jQuery(".widgetTabs").length>0){var k="";var m=0;jQuery(".widgetTop .titleHide").each(function(){m++;var n=jQuery(this).parents(".widgetTop").attr("id");var e=jQuery(this).text();if(e==""){e="#"+m}k+='<li><a href="#'+n+'"><span>'+e+"</span></a></li>"});jQuery(".widgetTabs .tabsButton ul").append(k);jQuery(".widgetTop > ul:not(.tabs),.widgetTop > div > ul:not(.tabs)").each(function(){var o=jQuery(this).clone();var e=jQuery(this).find(">li");var n=Math.ceil(e.length/2)-1;e.eq(n).nextAll().remove();o.find(">li").eq(n+1).prevAll().remove();jQuery(this).after(o)});jQuery(".widgetTabs").tabs({show:{effect:"drop",direction:"right",duration:500},hide:{effect:"drop",direction:"left",duration:500},activate:function(e,n){initShortcodes(n.newPanel)}})}if(jQuery("#tabsFavorite").length>0){jQuery(".addBookmark").click(function(s){var t=window.document.title.split("|")[0];var n=window.location.href;var r=jQuery.cookie("themerex_bookmarks");var q=false;if(r){r=JSON.parse(r);for(var p=0;p<r.length;p++){if(r[p].url==n){q=true;break}}}else{r=new Array()}if(!q){var o=themerex_message_dialog('<label for="bookmark_title">'+THEMEREX_MESSAGE_BOOKMARK_TITLE+'</label><br><input type="text" id="bookmark_title" name="bookmark_title" value="'+t+'">',THEMEREX_MESSAGE_BOOKMARK_ADD,null,function(u,e){if(u!=1){return}t=o.find("#bookmark_title").val();r.push({title:t,url:n});jQuery(".listBookmarks").append('<li><a href="'+n+'">'+t+'</a><a href="#" class="delBookmark icon-cancel"></a></li>');jQuery.cookie("themerex_bookmarks",JSON.stringify(r),{expires:365,path:"/"});if(THEMEREX_Swipers.bookmarks_scroll!==undefined){THEMEREX_Swipers.bookmarks_scroll.reInit()}setTimeout(function(){themerex_message_success(THEMEREX_MESSAGE_BOOKMARK_ADDED,THEMEREX_MESSAGE_BOOKMARK_ADD)},THEMEREX_MESSAGE_TIMEOUT/4)})}else{themerex_message_warning(THEMEREX_MESSAGE_BOOKMARK_EXISTS,THEMEREX_MESSAGE_BOOKMARK_ADD)}s.preventDefault();return false});jQuery(".listBookmarks").on("click",".delBookmark",function(p){var n=jQuery(this).parent().index();var o=jQuery.cookie("themerex_bookmarks");if(o){o=JSON.parse(o);o.splice(n,1);jQuery.cookie("themerex_bookmarks",JSON.stringify(o),{expires:365,path:"/"})}jQuery(this).parent().remove();p.preventDefault();return false});jQuery(".listBookmarks").sortable({items:"li",update:function(e,o){var n=new Array();o.item.parent().find("li").each(function(){var p=jQuery(this).find("a:not(.delBookmark)").eq(0);n.push({title:p.text(),url:p.attr("href")})});jQuery.cookie("themerex_bookmarks",JSON.stringify(n),{expires:365,path:"/"})}}).disableSelection()}jQuery(".upToScroll .scrollToTop").click(function(n){jQuery("html,body").animate({scrollTop:0},"slow");n.preventDefault();return false});jQuery(".widgetWrap ul > li,.sidemenu_area ul > li,.panelmenu_area ul > li,.widgetTop ul > li").each(function(){if(jQuery(this).find("ul").length>0){jQuery(this).addClass("dropMenu")}});jQuery(".widgetWrap ul > li.dropMenu,.sidemenu_area ul > li.dropMenu,.panelmenu_area ul > li.dropMenu,.widgetTop ul > li.dropMenu").click(function(n){jQuery(this).toggleClass("dropOpen");jQuery(this).find("ul").first().slideToggle(200,function(){if(jQuery(this).parents(".sidemenu_area").length>0){THEMEREX_Swipers.sidemenu_scroll.reInit()}else{if(jQuery(this).parents(".panelmenu_area").length>0){THEMEREX_Swipers.panelmenu_scroll.reInit()}}});n.preventDefault();return false});jQuery(".widgetWrap ul:not(.tabs) li > a,.sidemenu_area ul:not(.tabs) li > a,.panelmenu_area ul:not(.tabs) li > a,.widgetTop ul:not(.tabs) li > a").click(function(n){if(jQuery(this).attr("href")!="#"){n.stopImmediatePropagation();if(jQuery(this).parent().hasClass("menu-item-has-children")&&jQuery(this).parents(".sidemenu_area,.panelmenu_area").length>0){jQuery(this).parent().trigger("click");n.preventDefault();return false}}});jQuery(".widget_archive a").each(function(){var e=jQuery(this).html().split(" ");if(e.length>1){e[e.length-1]="<span>"+e[e.length-1]+"</span>";jQuery(this).html(e.join(" "))}});if(jQuery(".videoBackground").length>0){jQuery(".videoBackground").each(function(){var e=jQuery(this).data("youtube-code");if(e){jQuery(this).tubular({videoId:e})}})}if(jQuery(".sliderBullets, .sliderHomeBullets").length>0){if(jQuery.rsCSS3Easing!=undefined&&jQuery.rsCSS3Easing!=null){jQuery.rsCSS3Easing.easeOutBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)"}jQuery(".sliderHomeBullets").slideDown(200,function(){REX_parallax();fullSlider();initShortcodes(jQuery(this));if(jQuery("body").hasClass("boxed")){jQuery(this).trigger("resize")}})}var d=jQuery(".sliderHomeBullets");if(d.length>0&&d.hasClass("slider_engine_royal")){var l=d.find(".slideContent").eq(0);l.addClass("sliderBGanima "+l.data("effect"));setTimeout(checkFullSlider,500)}jQuery(".pageFocusBlock").click(function(n){if(n.target.nodeName.toUpperCase()!="A"){n.preventDefault();return false}});jQuery(".navInput").click(function(n){jQuery(".pageFocusBlock").slideDown(300,function(){initShortcodes(jQuery(".pageFocusBlock").eq(0))});n.preventDefault();return false});jQuery(".openResponsiveMenu").click(function(n){jQuery(".menuTopWrap").slideToggle();n.preventDefault();return false});initSfMenu(".menuTopWrap > ul#mainmenu, .usermenu_area ul.usermenu_list");if(false&&isiOS()){jQuery("#mainmenu li:not(.menu-item-has-children) > a").on("click touchend",function(n){if(jQuery(this).attr("href")!="#"){window.location.href=jQuery(this).attr("href")}});jQuery("#mainmenu li.menu-item-has-children > a").hover(function(n){if(jQuery("body").hasClass("responsive_menu")){jQuery(this).trigger("click")}},function(){})}jQuery(".menuTopWrap ul li a, .usermenu_area ul.usermenu_list li a").click(function(n){if((THEMEREX_responsive_menu_click||isMobile())&&jQuery("body").hasClass("responsive_menu")&&jQuery(this).parent().hasClass("menu-item-has-children")){if(jQuery(this).siblings("ul:visible").length>0){jQuery(this).siblings("ul").slideUp()}else{jQuery(this).siblings("ul").slideDown()}}if(jQuery(this).attr("href")=="#"||(jQuery("body").hasClass("responsive_menu")&&jQuery(this).parent().hasClass("menu-item-has-children"))){n.preventDefault();return false}});if(THEMEREX_menu_toc!="no"){buildPageTOC()}jQuery("#toc, .menuTopWrap ul li, .usermenu_area ul.usermenu_list li").on("click","a",function(q){var n=jQuery(this).attr("href");var s=n.indexOf("#");if(s<0||n.length==1){return}var r=window.location.href;var p=r.indexOf("#");if(p>0){r=r.substring(0,p)}var o=s==0;if(!o){o=r==n.substring(0,s)}if(o){animateTo(n.substr(s));setLocation(s==0?r+n:n);q.preventDefault();return false}});jQuery(".sidemenu_wrap .sidemenu_button").click(function(n){jQuery("body").addClass("openMenuFix");if(jQuery(".sidemenu_overflow").length==0){jQuery("body").append('<div class="sidemenu_overflow"></div>')}jQuery(".sidemenu_overflow").fadeIn(400);n.preventDefault();return false});jQuery(document).on("click",".sidemenu_overflow, .sidemenu_close",function(n){jQuery("body").removeClass("openMenuFixRight openMenuFix");if(!isMobile()){jQuery(".swpRightPosButton").fadeIn(400)}jQuery(".sidemenu_overflow").fadeOut(400)});var i=false;if(THEMEREX_demo_time>0&&jQuery(window).width()>800&&jQuery(".sidemenu_wrap .sidemenu_button").length>0){i=jQuery.cookie("themerex_demo_sidemenu");if(!i){jQuery.cookie("themerex_demo_sidemenu","1",{expires:7,path:"/"});i=1;setTimeout(function(){jQuery(".sidemenu_wrap .sidemenu_button").trigger("click");setTimeout(function(){jQuery(".sidemenu_overflow").trigger("click")},THEMEREX_demo_time)},THEMEREX_demo_time)}}jQuery(".openRightMenu,.swpRightPosButton").click(function(n){if(jQuery("body").hasClass("openMenuFixRight")){jQuery("body").removeClass("openMenuFixRight");if(!isMobile()){jQuery(".swpRightPosButton").fadeIn(400)}jQuery(".sidemenu_overflow").fadeOut(400)}else{jQuery("body").addClass("openMenuFixRight");if(jQuery(".sidemenu_overflow").length==0){jQuery("body").append('<div class="sidemenu_overflow"></div>')}if(!isMobile()){jQuery(".swpRightPosButton").fadeOut(400)}jQuery(".sidemenu_overflow").fadeIn(400)}n.preventDefault();return false});if(!i&&THEMEREX_demo_time>0&&jQuery(window).width()>800&&jQuery(".openRightMenu,.swpRightPosButton").length>0){i=jQuery.cookie("themerex_demo_rightpanel");if(!i){var c="";if(jQuery(".openRightMenu").length>0){c=".openRightMenu"}else{if(jQuery(".swpRightPosButton").length>0){c=".swpRightPosButton"}}if(c){jQuery.cookie("themerex_demo_rightpanel","1",{expires:7,path:"/"});setTimeout(function(){jQuery(c).trigger("click");setTimeout(function(){jQuery(".sidemenu_overflow").trigger("click")},THEMEREX_demo_time)},THEMEREX_demo_time)}}}jQuery(".topWrap .search").click(function(n){if(jQuery(this).hasClass("searchOpen")){if(n.target.nodeName.toUpperCase()!="INPUT"&&n.target.nodeName.toUpperCase()!="A"){jQuery(".topWrap .search .searchForm").animate({width:"hide"},200);jQuery(".topWrap .ajaxSearchResults").fadeOut();jQuery("header").removeClass("topSearchShow");jQuery(".topWrap .search").removeClass("searchOpen");n.preventDefault();return false}}else{jQuery(this).find(".searchForm").animate({width:"show"},200);jQuery("header").delay(200).addClass("topSearchShow");jQuery(this).delay(200).toggleClass("searchOpen");n.preventDefault();return false}});jQuery(".topWrap .search").on("click",".searchSubmit,.post_more",function(n){if(jQuery(".topWrap .searchField").val()!=""){jQuery(".topWrap .searchForm form").get(0).submit()}n.preventDefault();return false});jQuery(".search-form").on("click",".search-button a",function(n){if(jQuery(this).parents(".search-form").find('input[name="s"]').val()!=""){jQuery(this).parents(".search-form").get(0).submit()}n.preventDefault();return false});if(THEMEREX_useAJAXSearch){var f=null;jQuery(".topWrap .searchField").keyup(function(o){var n=jQuery(this).val();if(f){clearTimeout(f);f=null}if(n.length>=THEMEREX_AJAXSearch_min_length){f=setTimeout(function(){jQuery.post(THEMEREX_ajax_url,{action:"ajax_search",nonce:THEMEREX_ajax_nonce,text:n}).done(function(e){clearTimeout(f);f=null;var p=JSON.parse(e);if(p.error===""){jQuery(".topWrap .ajaxSearchResults").empty().append(p.data).fadeIn()}else{themerex_message_warning(THEMEREX_MESSAGE_SEARCH_ERROR)}})},THEMEREX_AJAXSearch_delay)}})}jQuery(".inputSubmitAnimation").click(function(n){n.preventDefault();return false});jQuery(".inputSubmitAnimation a").click(function(s){var p=jQuery(this).siblings("form");var o=jQuery(this).parents(".inputSubmitAnimation");if(o.hasClass("sFocus")){if(p.length>0&&p.find("input").val()!=""){if(jQuery(this).hasClass("sc_emailer_button")){var r=jQuery(this).data("group");var n=p.find("input").val();var q=new RegExp(THEMEREX_EMAIL_MASK);if(!q.test(n)){p.find("input").get(0).focus();themerex_message_warning(THEMEREX_EMAIL_NOT_VALID)}else{jQuery.post(THEMEREX_ajax_url,{action:"emailer_submit",nonce:THEMEREX_ajax_nonce,group:r,email:n}).done(function(e){var t=JSON.parse(e);if(t.error===""){themerex_message_info(THEMEREX_MESSAGE_EMAIL_CONFIRM.replace("%s",n));p.find("input").val("")}else{themerex_message_warning(t.error)}})}}else{p.get(0).submit()}}else{jQuery(document).trigger("click")}}else{o.addClass("sFocus rad4").removeClass("radCircle")}s.preventDefault();return false});if(isMobile()){jQuery(".toggleButton").show();jQuery(".itemDescriptionWrap,.toggleButton").click(function(n){jQuery(this).toggleClass("descriptionShow");jQuery(this).find(".toggleDescription").slideToggle();n.preventDefault();return false})}else{jQuery(".itemDescriptionWrap").hover(function(){jQuery(this).toggleClass("descriptionShow");jQuery(this).find(".toggleDescription").slideToggle()})}jQuery('.formList input[type="text"], .formList input[type="password"]').focus(function(){jQuery(this).attr("data-placeholder",jQuery(this).attr("placeholder")).attr("placeholder","");jQuery(this).parent("li").addClass("iconFocus")}).blur(function(){jQuery(this).attr("placeholder",jQuery(this).attr("data-placeholder"));jQuery(this).parent("li").removeClass("iconFocus")});if(jQuery("#nav_pages > ul > li").length<3){jQuery("#nav_pages").remove()}else{jQuery(".theme_paginaton a").addClass("theme_button")}jQuery("#viewmore_link").click(function(n){if(!THEMEREX_VIEWMORE_BUSY){jQuery(this).addClass("loading");THEMEREX_VIEWMORE_BUSY=true;jQuery.post(THEMEREX_ajax_url,{action:"view_more_posts",nonce:THEMEREX_ajax_nonce,page:THEMEREX_VIEWMORE_PAGE+1,data:THEMEREX_VIEWMORE_DATA,vars:THEMEREX_VIEWMORE_VARS}).done(function(e){var p=JSON.parse(e);jQuery("#viewmore_link").removeClass("loading");THEMEREX_VIEWMORE_BUSY=false;if(p.error===""){var o=jQuery(".content").eq(0);if(o.find("aside#tabBlog").length>0){o=o.find("aside#tabBlog").eq(0)}if(o.find("section.masonry").length>0){o=o.find("section.masonry").eq(0)}if(o.find("section.portfolio").length>0){o=o.find("section.portfolio").eq(0)}if(o.hasClass("masonry")||o.hasClass("portfolio")){o.data("last-width",0).append(p.data);THEMEREX_isotopeInitCounter=0;initAppendedIsotope(o,p.filters)}else{jQuery("#viewmore").before(p.data)}timelineResponsive();timelineScrollFix();itemPageFull();initPostFormats();initShortcodes(o);scrollAction();THEMEREX_VIEWMORE_PAGE++;if(p.no_more_data==1){jQuery("#viewmore").hide()}if(jQuery("#nav_pages ul li").length>=THEMEREX_VIEWMORE_PAGE){jQuery("#nav_pages ul li").eq(THEMEREX_VIEWMORE_PAGE).toggleClass("pager_current",true)}}})}n.preventDefault();return false});if(jQuery("#viewmore.pagination_infinite").length>0){jQuery(window).scroll(infiniteScroll)}jQuery(".woocommerce .mode_buttons a,.woocommerce-page .mode_buttons a").click(function(n){var o=jQuery(this).hasClass("woocommerce_thumbs")?"thumbs":"list";jQuery.cookie("themerex_shop_mode",o,{expires:365,path:"/"});jQuery(this).siblings("input").val(o).parents("form").get(0).submit();n.preventDefault();return false});jQuery("body").bind("added_to_cart",function(){var e=jQuery(".usermenu_cart .total .amount").text();if(e!=undefined){jQuery(".cart_button .cart_total").text(e)}});if(THEMEREX_sound_enable){var g=jQuery.cookie("themerex_sounds");if(g!=undefined){try{g=JSON.parse(g)}catch(h){}if(typeof g=="object"){THEMEREX_sound_state=g}}if(!THEMEREX_sound_state.all){jQuery(".usermenu_sound > a").removeClass("icon-volume").addClass("icon-volume-off-1")}if(!THEMEREX_sound_state.mainmenu){jQuery(".usermenu_sound > ul > li > a.sound_mainmenu").removeClass("icon-check").addClass("icon-dot")}if(!THEMEREX_sound_state.othermenu){jQuery(".usermenu_sound > ul > li > a.sound_othermenu").removeClass("icon-check").addClass("icon-dot")}if(!THEMEREX_sound_state.buttons){jQuery(".usermenu_sound > ul > li > a.sound_buttons").removeClass("icon-check").addClass("icon-dot")}if(!THEMEREX_sound_state.links){jQuery(".usermenu_sound > ul > li > a.sound_links").removeClass("icon-check").addClass("icon-dot")}var b=[];soundManager.setup({url:THEMEREX_sound_folder,debugMode:false,onready:function(){if(THEMEREX_sound_mainmenu){b.mainmenu=soundManager.createSound({id:"sound_mainmenu",url:THEMEREX_sound_mainmenu})}if(THEMEREX_sound_othermenu){b.othermenu=soundManager.createSound({id:"sound_othermenu",url:THEMEREX_sound_othermenu})}if(THEMEREX_sound_buttons){b.buttons=soundManager.createSound({id:"sound_buttons",url:THEMEREX_sound_buttons})}if(THEMEREX_sound_links){b.links=soundManager.createSound({id:"sound_links",url:THEMEREX_sound_links})}},ontimeout:function(){}});var j="a,button,.sc_accordion_title,.sc_toggles_title,.tabsButton > ul > li,.topWrap .search,.topWrap .openRightMenu";var a=0;jQuery(j).hover(function(){if(!THEMEREX_sound_state.all){return}var n=new Date();var e=n.getTime();if(e-a<50){return}a=e;if(jQuery(this).parents("#mainmenu,.tabsButton").length>0){if(THEMEREX_sound_state.mainmenu&&THEMEREX_sound_mainmenu&&typeof b.mainmenu!="undefined"){b.mainmenu.play()}}else{if(jQuery(this).parents("#panelmenu,#sidemenu,.usermenu_area").length>0){if(THEMEREX_sound_state.othermenu&&THEMEREX_sound_othermenu&&typeof b.othermenu!="undefined"){b.othermenu.play()}}else{if(jQuery(this).parents(".squareButton,.roundButton,.flex-direction-nav,.sc_accordion,.sc_toggles,.tab_names,.topWrap,.tabsMenuHead,#co_bg_pattern_list,#co_bg_images_list,.addBookmarkArea,.socPage,.page-numbers,.upToScroll").length>0||jQuery(this).hasClass("button")){if(THEMEREX_sound_state.buttons&&THEMEREX_sound_buttons&&typeof b.buttons!="undefined"){b.buttons.play()}}else{if(THEMEREX_sound_state.links&&THEMEREX_sound_links&&typeof b.links!="undefined"){b.links.play()}}}}},function(){});jQuery(".usermenu_sound > a").click(function(n){THEMEREX_sound_state.all=1-THEMEREX_sound_state.all;jQuery.cookie("themerex_sounds",JSON.stringify(THEMEREX_sound_state),{expires:365,path:"/"});jQuery(this).removeClass(THEMEREX_sound_state.all?"icon-volume-off-1":"icon-volume").addClass(THEMEREX_sound_state.all?"icon-volume":"icon-volume-off-1");n.preventDefault();return false});jQuery(".usermenu_sound > ul > li > a").click(function(n){if(jQuery(this).hasClass("sound_mainmenu")){THEMEREX_sound_state.mainmenu=1-THEMEREX_sound_state.mainmenu;jQuery(this).removeClass(THEMEREX_sound_state.mainmenu?"icon-dot":"icon-check").addClass(THEMEREX_sound_state.mainmenu?"icon-check":"icon-dot")}else{if(jQuery(this).hasClass("sound_othermenu")){THEMEREX_sound_state.othermenu=1-THEMEREX_sound_state.othermenu;jQuery(this).removeClass(THEMEREX_sound_state.othermenu?"icon-dot":"icon-check").addClass(THEMEREX_sound_state.othermenu?"icon-check":"icon-dot")}else{if(jQuery(this).hasClass("sound_buttons")){THEMEREX_sound_state.buttons=1-THEMEREX_sound_state.buttons;jQuery(this).removeClass(THEMEREX_sound_state.buttons?"icon-dot":"icon-check").addClass(THEMEREX_sound_state.buttons?"icon-check":"icon-dot")}else{if(jQuery(this).hasClass("sound_links")){THEMEREX_sound_state.links=1-THEMEREX_sound_state.links;jQuery(this).removeClass(THEMEREX_sound_state.links?"icon-dot":"icon-check").addClass(THEMEREX_sound_state.links?"icon-check":"icon-dot")}}}}jQuery.cookie("themerex_sounds",JSON.stringify(THEMEREX_sound_state),{expires:365,path:"/"});n.preventDefault();return false})}initPostFormats();initShortcodes(jQuery("body").eq(0))}function initSfMenu(a){jQuery(a).show().each(function(){if(isResponsiveNeed()&&jQuery(this).attr("id")=="mainmenu"&&(THEMEREX_responsive_menu_click||isMobile())){return}jQuery(this).addClass("inited").superfish({delay:500,animation:{opacity:"show",height:"show"},speed:"fast",autoArrows:false,dropShadows:false,onBeforeShow:function(c){if(jQuery(this).parents("ul").length>1){var b=jQuery(window).width();var e=jQuery(this).parents("ul").offset().left;var f=jQuery(this).parents("ul").outerWidth();var d=jQuery(this).outerWidth();if(e+f+d>b-20&&e-d>0){jQuery(this).addClass("submenu_left")}else{jQuery(this).removeClass("submenu_left")}}}})})}function mainMenuResponsive(){if(THEMEREX_menuResponsive>0){if(isResponsiveNeed()){if(!jQuery("body").hasClass("responsive_menu")){jQuery("body").addClass("responsive_menu");jQuery(".topMenuStyleFon").removeClass("topMenuStyleFon").addClass("topMenuStyleFon2 topMenuStyleLine");jQuery("header").removeClass("fixedTopMenu").addClass("noFixMenu");if((THEMEREX_responsive_menu_click||isMobile())&&jQuery(".menuTopWrap > ul#mainmenu").hasClass("inited")){jQuery(".menuTopWrap > ul#mainmenu").removeClass("inited").superfish("destroy")}}}else{if(jQuery("body").hasClass("responsive_menu")){jQuery("body").removeClass("responsive_menu");jQuery(".topMenuStyleFon2").removeClass("topMenuStyleFon2 topMenuStyleLine").addClass("topMenuStyleFon");jQuery(".menuTopWrap").show();if(THEMEREX_responsive_menu_click||isMobile()){initSfMenu(".menuTopWrap > ul#mainmenu")}calcMenuColumnsWidth()}}}}function calcMenuColumnsWidth(){jQuery("#mainmenu li.custom_view_item ul.menu-panel ul.columns").each(function(){if(jQuery("body").hasClass("responsive_menu")){return}jQuery(this).parents(".menu-panel").css({display:"block",visibility:"hidden"});var b=0,a=0;jQuery(this).find(">li").css("height","auto").each(function(){var c=jQuery(this);var d=parseInt(c.css("marginTop")),h=parseInt(c.css("marginBottom")),e=c.height()+(isNaN(d)?0:d)+(isNaN(h)?0:h);if(b<e){b=e}var j=parseInt(c.css("borderLeft")),g=parseInt(c.css("paddingLeft")),f=parseInt(c.css("borderRight")),i=parseInt(c.css("paddingRight"));a+=c.width()+(isNaN(j)?0:j)+(isNaN(g)?0:g)+(isNaN(i)?0:i)+(isNaN(f)?0:f)});jQuery(this).parents(".menu-panel").css({display:"none",visibility:"visible"});if(a>jQuery("#mainmenu").width()){jQuery(this).width(a+8)}jQuery(this).find(">li").height(b)})}function isResponsiveNeed(){var b=false;if(THEMEREX_menuResponsive>0){var a=window.innerWidth;if(a==undefined){a=jQuery(window).width()+(jQuery(window).height()<jQuery(document).height()||jQuery(window).scrollTop()>0?16:0)}b=THEMEREX_menuResponsive>a}return b}function infiniteScroll(){var a=jQuery("#viewmore.pagination_infinite").offset();if(jQuery(this).scrollTop()+jQuery(this).height()+100>=a.top&&!THEMEREX_VIEWMORE_BUSY){jQuery("#viewmore_link").eq(0).trigger("click")}}function itemPageFull(){var f=jQuery(window).height();var b=jQuery(window).scrollTop();if(b>jQuery(".noFixMenu .topWrap").height()+jQuery(".topTabsWrap").height()){b=0}var d=Math.min(jQuery(".itemPageFull").width()/16*9,f-jQuery("#wpadminbar").height()-jQuery(".noFixMenu .topWrap").height()-jQuery(".topTabsWrap").height()+b);jQuery(".itemPageFull").height(d);var g=parseInt(jQuery(".sidemenu_wrap").css("paddingTop"));if(isNaN(g)){g=parseInt(jQuery(".swpRightPos").css("paddingTop"))}if(isNaN(g)){g=0}var e=parseInt(jQuery(".swpRightPos .sc_tabs .tabsMenuBody").css("paddingTop"))*2;if(isNaN(e)){e=0}var c=jQuery(".swpRightPos .sc_tabs .tabsMenuHead").height();if(isNaN(c)){c=0}var a=jQuery(".swpRightPos .sc_tabs .tabsMenuBody .addBookmarkArea").height();if(isNaN(a)){a=0}jQuery("#sidemenu_scroll").height(f-g);jQuery(".swpRightPos .sc_tabs .tabsMenuBody").height(f- -g-e-c);jQuery("#custom_options_scroll").height(f-g-e-c);jQuery("#sidebar_panel_scroll").height(f-g-e-c);jQuery("#panelmenu_scroll").height(f-g-e-c);jQuery("#bookmarks_scroll").height(f-g-e-c-a)}function scrollAction(){var e=jQuery(".upToScroll");var b=jQuery(window).scrollTop();var f=jQuery("header").height();var d=jQuery("#wpadminbar").height();if(b>f){e.addClass("buttonShow")}else{e.removeClass("buttonShow")}if(!jQuery("body").hasClass("responsive_menu")&&THEMEREX_menuFixed){var a=0;if(jQuery(".top_panel_below .sliderHomeBullets").length>0){a=jQuery(".top_panel_below .sliderHomeBullets").height();if(a<10){a=jQuery(".sliderHomeBullets").parents(".fullScreenSlider").length>0?jQuery(window).height():THEMEREX_slider_height}}var c=Math.max(0,jQuery(".fixedTopMenu .topWrap").height());if(b<=THEMEREX_top_height-c-20+a){if(jQuery("header").hasClass("fixedTopMenu")){jQuery("header").removeClass("fixedTopMenu").addClass("noFixMenu");if(THEMEREX_use_fixed_wrapper){jQuery(".topWrapFixed").hide()}}}else{if(b>THEMEREX_top_height+a){if(!jQuery("header").hasClass("fixedTopMenu")){if(THEMEREX_use_fixed_wrapper){jQuery(".topWrapFixed").height(THEMEREX_top_height).show()}jQuery("header").addClass("fixedTopMenu").removeClass("noFixMenu")}}}}jQuery("#toc .toc_item").each(function(){var n=jQuery(this).find("a").attr("href");var m=n.indexOf("#");if(m<0||n.length==1){return}var l=window.location.href;var i=l.indexOf("#");if(i>0){l=l.substring(0,i)}var h=m==0;if(!h){h=l==href.substring(0,m)}if(!h){return}var k=jQuery(n).offset().top;var g=jQuery(this).next().find("a").attr("href");var j=g?jQuery(g).offset().top:1000000;if(k<b+jQuery(window).height()*0.8&&b+f<j){jQuery(this).addClass("current")}else{jQuery(this).removeClass("current")}})}function buildPageTOC(){var b="",a=0;jQuery('[id^="toc_"],.sc_anchor').each(function(c){var h=jQuery(this);var j=h.attr("id");var d=h.data("url");var e=h.data("icon");if(!e){e="icon-record"}var i=h.attr("title");var f=h.data("description");var g=h.data("separator");a++;b+='<div class="toc_item'+(g=="yes"?" toc_separator":"")+'">'+(f?'<div class="toc_description">'+f+"</div>":"")+'<a href="'+(d?d:"#"+j)+'" class="toc_icon'+(i?" with_title":"")+" "+e+'">'+(i?'<span class="toc_title">'+i+"</span>":"")+"</a></div>"});if(a>(THEMEREX_menu_toc_home?1:0)+(THEMEREX_menu_toc_top?1:0)){if(jQuery("#toc").length>0){jQuery("#toc .toc_inner").html(b)}else{jQuery("body").append('<div id="toc" class="toc_'+THEMEREX_menu_toc+'"><div class="toc_inner">'+b+"</div></div>")}}}function fullSlider(){var c=jQuery(".fullScreenSlider");if(c.length>0){var a=jQuery(window).height()-jQuery("#wpadminbar").height()-(jQuery(".top_panel_above .fullScreenSlider header").css("position")=="static"?jQuery(".topWrap").height():0);c.find(".sliderHomeBullets").css("height",a);c.find(".sliderHomeBullets.slider_engine_royal > div,.sliderHomeBullets.slider_engine_royal .rsOverflow,.sliderHomeBullets.slider_engine_royal .rsContent,.sliderHomeBullets .slideContent,.sliderHomeBullets .sc_slider,.sliderHomeBullets .sc_slider .slides,.sliderHomeBullets .sc_slider .slides li").css("height",a);c.find(".sliderHomeBullets.slider_engine_revo .rev_slider_wrapper,.sliderHomeBullets.slider_engine_revo .rev_slider").css({height:a+"px",maxHeight:a+"px"});c.find(".sliderHomeBullets.slider_engine_revo .rev_slider > ul").css({maxHeight:a+"px"});c.find(".sliderHomeBullets.slider_engine_revo .rev_slider .defaultimg").css({height:a+"px",maxWidth:"none"})}else{var b=jQuery(".sliderHomeBullets.slider_engine_revo");if(b.length>0){var a=b.find(".rev_slider").height();if(b.height()!=a){b.css("height",a)}}}}function checkFullSlider(){var b=jQuery(".fullScreenSlider");if(b.length>0){var a=b.find(".royalSlider").data("royalSlider");if(a==undefined||a==""){setTimeout(checkFullSlider,500)}else{a.ev.on("rsBeforeAnimStart",function(d){REX_parallax();var e=this.currSlideId;var c=jQuery(".slider_engine_royal").find(".slideContent");c.each(function(){jQuery(this).removeClass("sliderBGanima "+jQuery(this).data("effect"))});c.eq(e).addClass("sliderBGanima "+c.eq(e).data("effect"))})}}}function resizeSliders(){if(jQuery(".sc_slider_flex,.sc_slider_chop,.sc_slider_swiper").length>0){jQuery(".sc_slider_flex,.sc_slider_chop,.sc_slider_swiper").each(function(){if(jQuery(this).parents(".isotope, .isotopeNOanim").length==0){calcSliderDimensions(jQuery(this))}})}}function timelineResponsive(){var a=jQuery("#timeline_slider:not(.fixed)").eq(0);if(a.length>0){if(jQuery(window).width()<=1023){a.addClass("fixed")}else{var c=jQuery(window).height();var b=jQuery(window).height()-a.find("h2").height()-150;a.find(".sc_blogger").css("height",b).find(".sc_scroll").css("height",b)}}}function timelineScrollFix(){var b=jQuery("#timeline_slider:not(.fixed)").eq(0);if(b.length>0){if(THEMEREX_timeline_top<0){THEMEREX_timeline_top=parseFloat(b.offset().top)}var c=jQuery(window).scrollTop();var a=THEMEREX_timeline_top-(jQuery("header.fixedTopMenu").length>0?jQuery("header.fixedTopMenu .topWrap").height():0)-20;var e=jQuery(".footerContentWrap").height();var d=jQuery(document).height()-e<=c+jQuery(window).height();if(jQuery(window).scrollTop()<=a){if(parseFloat(b.css("marginTop"))>0){b.animate({marginTop:0},{queue:false,duration:350})}}else{if(a<=c-10&&!d){b.animate({marginTop:(c-a)+"px"},{queue:false,duration:350})}}}}var THEMEREX_isotopeInitCounter=0;function initIsotope(a){if(a.find(".isotopeNOanim,.isotope").length>0){a.find(".isotopeNOanim,.isotope").each(function(){if(jQuery(this).parents(".sc_scroll").length>0){return}if(!isotopeImagesComplete(jQuery(this))&&THEMEREX_isotopeInitCounter++<30){setTimeout(function(){initIsotope(a)},200);return}jQuery(this).addClass("inited").find(".isotopeElement").animate({opacity:1},200,function(){jQuery(this).addClass("isotopeElementShow")});var b=calcSizeIsotope(jQuery(this));jQuery(this).isotope({resizable:jQuery(this).parents(".fullscreen,.sc_gap").length>0&&!jQuery(this).hasClass("folio1col"),masonry:{columnWidth:b},itemSelector:".isotopeElement",animationOptions:{duration:750,easing:"linear",queue:false}});initShortcodes(jQuery(this))})}}function initAppendedIsotope(c,d){if(c.parents(".sc_scroll").length>0){return}if(!isotopeImagesComplete(c)&&THEMEREX_isotopeInitCounter++<30){setTimeout(function(){initAppendedIsotope(c,d)},200);return}calcSizeIsotope(c);var e=c.siblings(".isotopeFiltr");var a=c.find(".isotopeElement:not(.isotopeElementShow)").animate({opacity:1},200,function(){jQuery(this).addClass("isotopeElementShow")});c.isotope("appended",a);for(var b in d){if(e.find('a[data-filter=".flt_'+b+'"]').length==0){e.find("ul").append('<li class="squareButton"><a href="#" data-filter=".flt_'+b+'">'+d[b]+"</a></li>")}}}function isotopeImagesComplete(a){var b=true;a.find("img").each(function(){if(!b){return}if(!jQuery(this).get(0).complete){b=false}});return b}function calcSizeIsotope(l){if(l.parents(".sc_scroll").length>0){var f=250}else{var d=Math.max(1,Number(l.data("columns")));var e=l.find(".isotopeElement:not(.isotope-item)");var i=0,f=0,g=0,h=0;if(d>1){if(l.data("last-width")==l.width()){return f}var b=l.hasClass("portfolio");var k=parseInt(l.css("marginRight"));if(isNaN(k)){k=0}var j=parseInt(e.find(".isotopePadding").css("marginRight"));if(isNaN(j)){j=0}var a=l.width()+(b?0:k+j);l.data("last-width",a);i=b?e.width():Math.max(240,Math.floor(a/d-j));l.data("element-width",i);f=Math.floor(a/d);var c=f>i?1:-1;while(c*(f-i)/i>THEMEREX_isotope_resize_delta){d+=c;if(d==0){break}f=Math.floor(a/d)}e.css({width:f});if(b){g=e.height();l.data("element-height",g);h=Math.floor(f/i*g);e.css({height:h})}}}return f}function resizeIsotope(){jQuery(".isotope, .isotopeNOanim").each(function(){var l=jQuery(this);var d=Math.max(1,Number(l.data("columns")));if(d==1||l.data("last-width")==l.width()||l.parents(".sc_scroll").length>0){return}var b=l.hasClass("portfolio");var e=l.find(".isotopeElement");var k=parseInt(l.css("marginRight"));if(isNaN(k)){k=0}var j=parseInt(e.find(".isotopePadding").css("marginRight"));if(isNaN(j)){j=0}var a=l.width()+(b?0:k+j);l.data("last-width",a);var i=parseFloat(l.data("element-width"));var f=Math.floor(a/d);var c=f>i?1:-1;while(c*(f-i)/i>THEMEREX_isotope_resize_delta){d+=c;if(d==0){break}f=Math.floor(a/d)}e.css({width:f});if(b){var g=parseFloat(l.data("element-height"));var h=Math.floor(f/i*g);e.css({height:h})}jQuery(this).isotope({masonry:{columnWidth:f}});l.find(".sc_slider_flex,.sc_slider_chop,.sc_slider_swiper").each(function(){calcSliderDimensions(jQuery(this))})})}function initPostFormats(){initMediaElements(jQuery("body").eq(0));if(jQuery(".isotopeNOanim:not(.inited),.isotope:not(.inited)").length>0){initIsotope(jQuery("body").eq(0));if(jQuery(".isotopeNOanim.inited,.isotope.inited").length==0){try{jQuery(window).smartresize(resizeIsotope)}catch(a){jQuery(window).resize(resizeIsotope)}}jQuery(".isotopeFiltr:not(.inited)").each(function(){jQuery(this).addClass("inited").on("click","li a",function(c){jQuery(this).parents(".isotopeFiltr").find("li").removeClass("active");jQuery(this).parent().addClass("active");var b=jQuery(this).data("filter");jQuery(this).parents(".isotopeFiltr").siblings(".isotope").eq(0).isotope({filter:b});if(b=="*"){jQuery("#viewmore_link").fadeIn()}else{jQuery("#viewmore_link").fadeOut()}c.preventDefault();return false})})}if(jQuery(".hoverIncrease:not(.inited)").length>0){jQuery(".hoverIncrease:not(.inited)").addClass("inited").each(function(){var b=jQuery(this).data("image");var c=jQuery(this).data("title");if(b){jQuery(this).append('<span class="hoverShadow"></span><a href="'+b+'" title="'+c+'"><span class="hoverIcon"></span></a>')}})}if(THEMEREX_popupEngine=="pretty"){jQuery("a[href$='jpg'],a[href$='jpeg'],a[href$='png'],a[href$='gif']").attr("rel","prettyPhoto"+(THEMEREX_popupGallery?"[slideshow]":""));jQuery("a[rel*='prettyPhoto']:not(.inited):not([rel*='magnific']):not([data-rel*='magnific'])").addClass("inited").prettyPhoto({social_tools:"",theme:"facebook",deeplinking:false}).click(function(b){if(jQuery(window).width()<480){b.stopImmediatePropagation();window.location=jQuery(this).attr("href")}b.preventDefault();return false})}else{jQuery("a[href$='jpg'],a[href$='jpeg'],a[href$='png'],a[href$='gif']").attr("rel","magnific");jQuery("a[rel*='magnific']:not(.inited):not(.prettyphoto):not([rel*='pretty']):not([data-rel*='pretty'])").addClass("inited").magnificPopup({type:"image",mainClass:"mfp-img-mobile",closeOnContentClick:true,closeBtnInside:true,fixedContentPos:true,midClick:true,preloader:true,tLoading:THEMEREX_MAGNIFIC_LOADING,gallery:{enabled:THEMEREX_popupGallery},image:{tError:THEMEREX_MAGNIFIC_ERROR,verticalFit:true}})}jQuery('.user-popup-link:not(.inited),a[href="#openLogin"]:not(.inited)').addClass("inited").magnificPopup({type:"inline",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-zoom-in"},open:function(){jQuery("html").css({overflow:"visible",margin:0})},close:function(){}},midClick:true});if(jQuery("textarea.textAreaSize:not(.inited)").length>0){jQuery("textarea.textAreaSize:not(.inited)").addClass("inited").autosize({append:"\n"})}if(jQuery("ul.shareDrop:not(.inited)").length>0){jQuery("ul.shareDrop:not(.inited)").addClass("inited").siblings("a").click(function(b){if(jQuery(this).hasClass("selected")){jQuery(this).removeClass("selected").siblings("ul.shareDrop").slideUp()}else{jQuery(this).addClass("selected").siblings("ul.shareDrop").slideDown()}b.preventDefault();return false}).end().find("li a").click(function(b){jQuery(this).parents("ul.shareDrop").slideUp().siblings("a.shareDrop").removeClass("selected");b.preventDefault();return false})}if(jQuery(".postSharing:not(.inited),.masonryMore:not(.inited)").length>0){jQuery(".postSharing:not(.inited),.masonryMore:not(.inited)").addClass("inited").find(".likeButton a").click(function(h){var f=jQuery(this).parent();var g=f.hasClass("like")?1:-1;var c=f.data("postid");var b=Number(f.data("likes"))+g;var d=jQuery.cookie("themerex_likes");if(d===undefined){d=""}jQuery.post(THEMEREX_ajax_url,{action:"post_counter",nonce:THEMEREX_ajax_nonce,post_id:c,likes:b}).done(function(e){var i=JSON.parse(e);if(i.error===""){if(g==1){var j=f.data("title-dislike");f.removeClass("like").addClass("likeActive");d+=(d.substr(-1)!=","?",":"")+c+","}else{var j=f.data("title-like");f.removeClass("likeActive").addClass("like");d=d.replace(","+c+",",",")}f.data("likes",b).find("a").attr("title",j).find(".likePost").html(b);jQuery.cookie("themerex_likes",d,{expires:365,path:"/"})}else{themerex_message_warning(THEMEREX_MESSAGE_ERROR_LIKE)}});h.preventDefault();return false})}if(jQuery(".portfolio > .isotopeElement:not(.inited)").length>0){jQuery(".portfolio > .isotopeElement:not(.inited)").addClass("inited").find("> .hoverDirShow").each(function(){jQuery(this).hoverdir()})}if(jQuery(".sc_video_play_button:not(.inited)").length>0){jQuery(".sc_video_play_button:not(.inited)").each(function(){var d=jQuery(this).data("video");var e=d.indexOf("height=");if(e>0){e+=8;var b=d.indexOf('"',e);var c=parseInt(d.substring(e,b));if(!isNaN(c)){jQuery(this).find("img").height(c)}}jQuery(this).addClass("inited").animate({opacity:1},1000).click(function(k){if(!jQuery(this).hasClass("sc_video_play_button")){return}var j=jQuery(this).removeClass("sc_video_play_button").data("video");if(j!==""){jQuery(this).empty().html(j);videoDimensions();var g=jQuery(this).find("video");var f=g.width();var i=g.height();initMediaElements(jQuery(this));jQuery(this).find("video").css({width:f,height:i}).attr({width:f,height:i})}k.preventDefault();return false})})}if(jQuery("iframe,.sc_video_player,video.sc_video").length>0){if(!THEMEREX_video_resize_inited){THEMEREX_video_resize_inited=true;jQuery(window).resize(function(){videoDimensions()})}videoDimensions()}jQuery(".tribe-events-nav-previous,.tribe-events-nav-next,.tribe-events-widget-link,.tribe-events-viewmore").addClass("squareButton");jQuery("a.tribe-events-read-more").wrap('<span class="squareButton"></span>')}function initMediaElements(a){if(THEMEREX_useMediaElement&&a.find("audio,video").length>0){if(window.mejs){window.mejs.MepDefaults.enableAutosize=false;window.mejs.MediaElementDefaults.enableAutosize=false;a.find("audio:not(.wp-audio-shortcode),video:not(.wp-video-shortcode)").each(function(){if(jQuery(this).parents(".mejs-mediaelement").length==0){var b={enableAutosize:false,videoWidth:-1,videoHeight:-1,audioWidth:"100%",audioHeight:30};b.success=function(d){var e,c;if("flash"===d.pluginType){e=d.attributes.autoplay&&"false"!==d.attributes.autoplay;c=d.attributes.loop&&"false"!==d.attributes.loop;e&&d.addEventListener("canplay",function(){d.play()},false);c&&d.addEventListener("ended",function(){d.play()},false)}};jQuery(this).mediaelementplayer(b)}})}else{setTimeout(function(){initMediaElements(a)},400)}}}function videoDimensions(){jQuery(".sc_video_player").each(function(){var g=jQuery(this).eq(0);var d=(g.data("ratio")?g.data("ratio").split(":"):(g.find("[data-ratio]").length>0?g.find("[data-ratio]").data("ratio").split(":"):[16,9]));d=d.length!=2||d[0]==0||d[1]==0?16/9:d[0]/d[1];var h=jQuery(this).find(".sc_video_play_button img");var e=g.find(".sc_video_player_title").height();var f=g.data("width");var a=g.data("height");if(!f||!a){return}var c=(""+f).substr(-1)=="%";f=parseInt(f);a=parseInt(a);var i=Math.min(c?10000:f,g.parents("div,article").width()),b=Math.round(c?i/d:i/f*a);if(parseInt(g.attr("data-last-width"))==i){return}if(c){g.height(b+(isNaN(e)?0:e));if(h.length>0){h.height(b)}}else{g.css({width:i+"px",height:b+(isNaN(e)?0:e)+"px"});if(h.length>0){h.height(b)}}g.attr("data-last-width",i)});jQuery("video.sc_video").each(function(){var a=jQuery(this).eq(0);var f=(a.data("ratio")!=undefined?a.data("ratio").split(":"):[16,9]);f=f.length!=2||f[0]==0||f[1]==0?16/9:f[0]/f[1];var d=a.parents(".mejs-video");var h=a.parents(".sc_video_player");var g=h.length>0?h.data("width"):a.data("width");var b=h.length>0?h.data("height"):a.data("height");if(!g||!b){return}var e=(""+g).substr(-1)=="%";g=parseInt(g);b=parseInt(b);var i=Math.round(d.length>0?Math.min(e?10000:g,d.parents("div,article").width()):a.width()),c=Math.round(e?i/f:i/g*b);if(parseInt(a.attr("data-last-width"))==i){return}if(d.length>0&&mejs){setMejsPlayerDimensions(a,i,c)}if(e){a.height(c)}else{a.attr({width:i,height:c}).css({width:i+"px",height:c+"px"})}a.attr("data-last-width",i)});jQuery("video.sc_video_bg").each(function(){var d=jQuery(this).eq(0);var k=(d.data("ratio")!=undefined?d.data("ratio").split(":"):[16,9]);k=k.length!=2||k[0]==0||k[1]==0?16/9:k[0]/k[1];var j=d.parents(".mejs-video");var b=j.length>0?j.parent():d.parent();var n=b.width();var g=b.height();var i=Math.ceil(g*k);var m=Math.ceil(n/k);if(d.parents(".sc_parallax").length>0){var a=jQuery(window).height();var e=Number(d.parents(".sc_parallax").data("parallax-speed"));var c=Math.ceil(Math.abs((a-g)*e));if(m<g+c){m=g+c;i=Math.ceil(m*k)}}if(m<g){m=g;i=Math.ceil(m*k)}if(i<n){i=n;m=Math.ceil(i/k)}var f=Math.round((i-n)/2);var o=Math.round((m-g)/2);if(parseInt(d.attr("data-last-width"))==i){return}if(j.length>0){setMejsPlayerDimensions(d,i,m);j.css({left:-f+"px",top:-o+"px"})}else{d.css({left:-f+"px",top:-o+"px"})}d.attr({width:i,height:m,"data-last-width":i}).css({width:i+"px",height:m+"px"});if(d.css("opacity")==0){d.animate({opacity:1},3000)}});jQuery("iframe").each(function(){var f=jQuery(this).eq(0);var e=(f.data("ratio")!=undefined?f.data("ratio").split(":"):(f.find("[data-ratio]").length>0?f.find("[data-ratio]").data("ratio").split(":"):[16,9]));e=e.length!=2||e[0]==0||e[1]==0?16/9:e[0]/e[1];var b=f.attr("width");var h=f.attr("height");var c=f.parents(".sc_video_player");if(c.length>0){b=c.data("width");h=c.data("height")}if(!b||!h){return}var g=(""+b).substr(-1)=="%";b=parseInt(b);h=parseInt(h);var a=c.length>0?c.width():f.width(),d=Math.round(g?a/e:a/b*h);if(parseInt(f.attr("data-last-width"))==a){return}f.css({width:a+"px",height:d+"px"})})}function resizeVideoBackground(){var c=jQuery(".videoBackgroundFullscreen");if(c.length<1){return}if(THEMEREX_useMediaElement&&c.find(".mejs-video").length==0){setTimeout(resizeVideoBackground,100);return}if(!c.hasClass("inited")){c.addClass("inited")}var a=c.find("video");var f=(a.data("ratio")!=undefined?a.data("ratio").split(":"):[16,9]);f=f.length!=2||f[0]==0||f[1]==0?16/9:f[0]/f[1];var i=c.width();var d=c.height();var e=Math.ceil(d*f);var g=Math.ceil(i/f);if(g<d){g=d;e=Math.ceil(g*f)}if(e<i){e=i;g=Math.ceil(e/f)}var b=Math.round((e-i)/2);var j=Math.round((g-d)/2);if(c.find(".mejs-container").length>0){setMejsPlayerDimensions(c.find("video"),e,g);c.find(".mejs-container").css({left:-b+"px",top:-j+"px"})}else{c.find("video").css({left:-b+"px",top:-j+"px"})}c.find("video").attr({width:e,height:g}).css({width:e+"px",height:g+"px"})}function setMejsPlayerDimensions(d,a,c){if(mejs){for(var b in mejs.players){if(mejs.players[b].media.src==d.attr("src")){if(mejs.players[b].media.setVideoSize){mejs.players[b].media.setVideoSize(a,c)}mejs.players[b].setPlayerSize(a,c);mejs.players[b].setControlsSize()}}}}function REX_parallax(){jQuery(".sc_parallax").each(function(){var f=jQuery(window).height();var e=jQuery(window).scrollTop();var c=Math.max(jQuery(this).offset().top,f);if(c<=e+f){var b=Number(jQuery(this).data("parallax-speed"));var a=jQuery(this).data("parallax-x-pos");var d=Math.round((c-e-f)*b+(b<0?f*b:0));jQuery(this).find(".sc_parallax_content").css("backgroundPosition",a+" "+d+"px");jQuery(this).find("div.sc_video_bg").css("top",d+"px")}})};